# fed-e-task-01-01
大前端part1 JavaScript 深度剖析
模块一 函数式编程与 JS 异步编程、手写 Promise
作业

## 简答题
### 一、谈谈你是如何理解 JS 异步编程的，EventLoop、消息队列都是做什么的，什么是宏任务，什么是微任务？

1. 由于js是单线程，下一条语句需要等到上一条执行完才能执行，就是说要排队。如果一个操作等待完成的时间是不确定的，或者说是执行大量的计算，那么后续的代码就会一直等待，造成阻塞，对于用户来说就是页面卡死了，体验非常不好。  
所以js将执行任务分成了两种模式：同步模式和异步模式。同步模式就是上面说的排队执行。异步模式是指不会等待前面的代码执行完毕才开始执行。  
例如要获取一个数据，我们不确定啥时候可以拿到返回结果，我们告诉主程序拿到数据后通知我，也就是注册一个回调，期间我们可以做别的事情。异步完成之后通知到我，我有空闲的时候就去执行回调里面的代码。`所有会进入异步的都是指事件回调中的那部分代码`。

2. EventLoop 也就是事件循环，是JavaScript的执行机制。  
* 执行的代码是放到调用栈Stack中执行的，同步的代码会直接执行，如果是异步的就会放入消息队列中等待执行，等所有的代码执行完毕，EventLoop就会监听调用栈和消息队列中的任务。
* 当调用栈中所有的任务结束以后，调用栈Stack会清空。
* 它会从消息队列中依次取出位于队首的回调函数压入到调用栈Stack，开始执行，执行完后消息队列长度减1。
* 继续取出位于队首的任务，压入到调用栈Stack中执行，以此类推，直到把消息队列中所有的任务都执行完毕。如果在执行过程中，又产生了微任务，那么会加入到队列的末尾，也会在这个周期被调用执行。
* 当消息队列中的任务都执行完毕，此时消息队列为空队列，调用栈Stack也为空，也就是当前这个宏任务执行结束了
* 会去执行下一个宏任务，重复上面的步骤  
这个过程是循环进行的，所以整个这种运行机制称为EventLoop。

下面这句是在阮一峰的网络日志看到的  
`Wikipedia这样定义：Event Loop是一个程序结构，用于等待和发送消息和事件。简单说，就是在程序中设置两个线程：一个负责程序本身的运行，称为'主线程'；另一个负责主线程与其他进程（主要是各种I/O操作）的通信，被称为'EventLoop线程'`

3. 消息列队 就是暂存异步任务的地方

4. 宏任务：当前调用栈中执行的代码就是宏任务，包括：script(全局任务)，定时器

5. 微任务：宏任务执行完，再下一个宏任务开始之前需要执行的任务，就是回调函数（微任务实际上是宏任务的其中的一个步骤）



## 代码题
### 一、[code/c1.js](https://github.com/shissan/lagou-web/blob/master/task/fed-e-task-01-01/code/c1.js)

### 二、[code/c2.js](https://github.com/shissan/lagou-web/blob/master/task/fed-e-task-01-01/code/c2.js)
练习1  
练习2  
练习3  
练习4  

### 三、[code/c3.js](code/c3.js)
练习1  
练习2  
练习3  
练习4  

### 四、手写实现 MyPromise 源码
[code/c4.js](./code/c4.js)
